<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üëÅÔ∏è‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏ô‡∏ï‡∏£‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ì‡πå: ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏•‡∏±‡∏ö‡∏à‡∏±‡∏Å‡∏£‡∏ß‡∏≤‡∏•üëÅÔ∏è</title>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@latest/dist/tf.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@teachablemachine/image@latest/dist/teachablemachine-image.min.js"></script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Charm:wght@400;700&family=Mitr:wght@300&display=swap');

        :root {
            --dark-abyss: #0f0c29;
            --void-purple: #302b63;
            --mana-neon: #00d2ff;
            --blood-red: #ff0055;
            --gold-aura: #ffd700;
        }

        body {
            font-family: 'Charm', cursive, 'Mitr', sans-serif;
            background: linear-gradient(to bottom, #0f0c29, #302b63, #24243e);
            color: white;
            margin: 0;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* üîÆ ‡∏ß‡∏á‡πÅ‡∏´‡∏ß‡∏ô‡πÄ‡∏ß‡∏ó‡∏¢‡πå‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á */
        body::before {
            content: 'üïØÔ∏è';
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 500px;
            opacity: 0.05;
            z-index: -1;
            filter: blur(5px);
        }

        nav {
            background: rgba(0, 0, 0, 0.8);
            border-bottom: 2px solid var(--mana-neon);
            display: flex;
            justify-content: center;
            box-shadow: 0 0 20px var(--mana-neon);
        }

        nav button {
            background: none;
            border: none;
            padding: 15px 30px;
            font-size: 20px;
            font-weight: bold;
            cursor: pointer;
            color: white;
            text-shadow: 0 0 10px var(--mana-neon);
            transition: 0.5s;
        }

        nav button.active {
            color: var(--gold-aura);
            text-shadow: 0 0 20px var(--gold-aura);
            border-bottom: 3px solid var(--gold-aura);
        }

        .page-content {
            display: none;
            flex-direction: column;
            align-items: center;
            padding: 50px 20px;
            animation: summon 0.8s ease-out;
        }

        .page-content.active { display: flex; }

        @keyframes summon {
            0% { opacity: 0; filter: brightness(3) blur(20px); transform: scale(0.5) rotate(10deg); }
            100% { opacity: 1; filter: brightness(1) blur(0); transform: scale(1) rotate(0); }
        }

        /* ‚öîÔ∏è ‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏ú‡∏ô‡∏∂‡∏Å‡∏û‡∏•‡∏±‡∏á */
        .crystal-orb {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            padding: 3rem;
            border: 2px solid var(--mana-neon);
            border-radius: 0 50px 0 50px;
            box-shadow: inset 0 0 30px rgba(0, 210, 255, 0.2), 0 0 50px rgba(0, 0, 0, 0.5);
            text-align: center;
            width: 90%;
            max-width: 500px;
            position: relative;
        }

        h1, h3 {
            font-size: 2.5rem;
            margin: 0 0 20px 0;
            background: linear-gradient(to right, var(--mana-neon), var(--gold-aura));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        /* ‚ö° ‡∏õ‡∏∏‡πà‡∏°‡∏≠‡∏±‡∏ç‡πÄ‡∏ä‡∏¥‡∏ç‡∏†‡∏≤‡∏û */
        .summon-btn {
            display: inline-block;
            padding: 15px 40px;
            cursor: pointer;
            background: transparent;
            color: var(--mana-neon);
            border: 2px solid var(--mana-neon);
            font-size: 22px;
            font-weight: bold;
            transition: all 0.3s;
            clip-path: polygon(10% 0, 100% 0, 90% 100%, 0 100%);
            margin-bottom: 20px;
        }

        .summon-btn:hover {
            background: var(--mana-neon);
            color: var(--dark-abyss);
            box-shadow: 0 0 30px var(--mana-neon);
            transform: skew(-5deg);
        }

        #image-input { display: none; }

        #image-preview { 
            max-width: 100%;
            max-height: 300px;
            border: 1px solid var(--gold-aura);
            margin-top: 20px;
            display: none;
            filter: sepia(0.5) contrast(1.2) drop-shadow(0 0 15px var(--gold-aura));
            animation: heartbeat 2s infinite;
        }

        @keyframes heartbeat {
            0% { transform: scale(1); }
            50% { transform: scale(1.02); filter: sepia(0) contrast(1.5) drop-shadow(0 0 25px var(--gold-aura)); }
            100% { transform: scale(1); }
        }

        /* üìú ‡∏°‡πâ‡∏ß‡∏ô‡∏Ñ‡∏±‡∏°‡∏†‡∏µ‡∏£‡πå‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢ */
        #label-container {
            margin-top: 30px;
            padding: 20px;
            border-top: 1px solid var(--mana-neon);
            font-size: 26px;
            text-shadow: 0 0 15px var(--blood-red);
            font-weight: bold;
        }

        .loading-text {
            animation: flicker 0.1s infinite;
            color: var(--blood-red);
        }

        @keyframes flicker {
            0% { opacity: 1; } 50% { opacity: 0.5; } 100% { opacity: 1; }
        }
    </style>
</head>
<body>

    <nav>
        <button onclick="showPage('home')" id="btn-home" class="active">üí† ‡∏´‡∏ô‡πâ‡∏≤‡∏õ‡∏£‡∏∞‡∏ï‡∏π‡∏°‡∏¥‡∏ï‡∏¥</button>
        <button onclick="showPage('check')" id="btn-check">üëÅÔ∏è ‡πÄ‡∏ô‡∏ï‡∏£‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ì‡πå</button>
        <button onclick="showPage('about')" id="btn-about">üìú ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÇ‡∏ö‡∏£‡∏≤‡∏ì</button>
    </nav>

    <div id="home" class="page-content active">
        <div class="crystal-orb">
            <h1>‡πÇ‡∏ä‡∏Ñ‡∏ä‡∏∞‡∏ï‡∏≤‡∏•‡∏¥‡∏Ç‡∏¥‡∏ï</h1>
            <p>"‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏£‡∏¥‡∏á‡∏ñ‡∏π‡∏Å‡∏ö‡∏¥‡∏î‡πÄ‡∏ö‡∏∑‡∏≠‡∏ô ‡∏°‡∏µ‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡πÄ‡∏à‡πâ‡∏≤‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏ú‡∏¢‡∏ï‡∏±‡∏ß‡∏ï‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏ó‡πâ‡∏à‡∏£‡∏¥‡∏á‡∏Ç‡∏≠‡∏á‡∏™‡∏¥‡πà‡∏á‡∏ô‡∏µ‡πâ‡πÑ‡∏î‡πâ..."</p>
            <button class="summon-btn" onclick="showPage('check')">‡∏õ‡∏•‡∏î‡∏õ‡∏•‡πà‡∏≠‡∏¢‡∏ú‡∏ô‡∏∂‡∏Å</button>
        </div>
    </div>

    <div id="check" class="page-content">
        <div class="crystal-orb">
            <h3>‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡∏¥‡∏ç‡∏ç‡∏≤‡∏ì ‚ö°</h3>
            <label for="image-input" class="summon-btn">‡∏™‡∏±‡∏á‡πÄ‡∏ß‡∏¢‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û</label>
            <input type="file" id="image-input" accept="image/*" onchange="previewAndPredict(event)">

            <div id="image-container">
                <img id="image-preview" src="#" alt="Artifact" />
            </div>

            <div id="label-container">--- ‡∏£‡∏≠‡∏Å‡∏≤‡∏£‡πÄ‡∏ã‡πà‡∏ô‡πÑ‡∏´‡∏ß‡πâ ---</div>
        </div>
    </div>

    <div id="about" class="page-content">
        <div class="crystal-orb">
            <h3>‡∏ú‡∏π‡πâ‡∏Ñ‡∏∏‡∏°‡∏Å‡∏é‡πÅ‡∏´‡πà‡∏á AI</h3>
            <p>‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ô‡∏µ‡πâ‡∏ñ‡∏π‡∏Å‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏Ç‡∏∂‡πâ‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡∏†‡∏≤‡∏©‡∏≤‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏±‡∏Å‡∏£‡πÇ‡∏ö‡∏£‡∏≤‡∏ì (TensorFlow) ‡∏†‡∏≤‡∏¢‡πÉ‡∏ï‡πâ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏Ç‡∏≠‡∏á "Teachable Machine" ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏°‡∏ô‡∏∏‡∏©‡∏¢‡πå‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡πÅ‡∏Å‡πà‡∏ô‡πÅ‡∏ó‡πâ‡∏Ç‡∏≠‡∏á‡∏™‡∏£‡∏£‡∏û‡∏™‡∏¥‡πà‡∏á...</p>
            <p style="color: var(--mana-neon);">[‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô 2.0.26 - ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡∏±‡∏ö‡∏Ç‡∏≠‡∏á‡∏à‡∏±‡∏Å‡∏£‡∏ß‡∏≤‡∏•]</p>
        </div>
    </div>

    <script type="text/javascript">
        function showPage(pageId) {
            document.querySelectorAll('.page-content').forEach(p => p.classList.remove('active'));
            document.querySelectorAll('nav button').forEach(b => b.classList.remove('active'));
            document.getElementById(pageId).classList.add('active');
            document.getElementById('btn-' + pageId).classList.add('active');
        }

        const URL = "https://teachablemachine.withgoogle.com/models/2feVhRCih/";
        let model;

        async function loadModel() {
            try {
                model = await tmImage.load(URL + "model.json", URL + "metadata.json");
                console.log("‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡πÄ‡∏ï‡πá‡∏°‡πÄ‡∏õ‡∏µ‡πà‡∏¢‡∏°... ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏à‡πâ‡∏≤‡∏ô‡∏≤‡∏¢!");
            } catch (e) {
                document.getElementById("label-container").innerText = "‡∏ú‡∏ô‡∏∂‡∏Å‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß... (Model Load Error)";
            }
        }
        loadModel();

        async function previewAndPredict(event) {
            const input = event.target;
            const preview = document.getElementById('image-preview');
            const labelBox = document.getElementById("label-container");

            if (input.files && input.files[0]) {
                labelBox.innerHTML = "<span class='loading-text'>‚ö° ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£‡∏Å‡∏±‡∏ö‡∏´‡πâ‡∏ß‡∏á‡∏°‡∏¥‡∏ï‡∏¥... ‚ö°</span>";
                const reader = new FileReader();
                reader.onload = function(e) {
                    preview.src = e.target.result;
                    preview.style.display = "block";
                    preview.onload = async function() {
                        const prediction = await model.predict(preview);
                        let highestProb = 0;
                        let bestMatch = "";
                        for (let i = 0; i < prediction.length; i++) {
                            if (prediction[i].probability > highestProb) {
                                highestProb = prediction[i].probability;
                                bestMatch = prediction[i].className;
                            }
                        }
                        const percentage = (highestProb * 100).toFixed(2);
                        labelBox.innerHTML = `
                            <div style="font-size: 32px; letter-spacing: 5px; color: var(--gold-aura);">[ ${bestMatch} ]</div>
                            <div style="font-size: 14px; color: var(--mana-neon); margin-top:10px;">‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏ñ‡∏µ‡∏¢‡∏£‡∏Ç‡∏≠‡∏á‡∏ß‡∏¥‡∏ç‡∏ç‡∏≤‡∏ì: ${percentage}%</div>
                        `;
                    };
                };
                reader.readAsDataURL(input.files[0]);
                input.value = ""; 
            }
        }
    </script>
</body>
</html>